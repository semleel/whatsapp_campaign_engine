Right now, everything is inside index.js.
You should now separate it into smaller files/folders for maintainability:

whatsapp-backend/
│
├── index.js                  # Entry point
├── routes/
│   └── webhook.js            # All webhook routes
├── services/
│   └── whatsappService.js    # Send message functions, reply logic
│   └── campaignService.js    # Campaign mapping, API calls
├── utils/
│   └── logger.js             # Optional
├── .env
└── package.json


This will make it easier to expand for your FYP module: Backend Integration & Live Campaign API.


-----------------------------------------------------------------------------------------------------------------------------------


Your module will mainly:

Receive message from WhatsApp (via webhook)

Identify which campaign it belongs to (query CampaignList / Keyword)

Call related backend API (Api table)

Log message + update session state

So your flow looks like this:

WhatsApp Message
   ↓
Webhook (Express)
   ↓
Supabase (Campaign & API info)
   ↓
Call external API (Axios)
   ↓
Format response → send back to WhatsApp
   ↓
Log in Supabase (MessageLog)